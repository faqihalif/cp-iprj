import{r,t as H,j as d}from"./app-d3c1fae5.js";import{g as V,e as z,c as $,u as q,f as J,P,a as m}from"./react-icons.esm-5e7cd4ee.js";import{u as Q}from"./button-1abff6ee.js";var W=r.createContext(void 0);function X(e){const t=r.useContext(W);return e||t||"ltr"}var Z=H["useId".toString()]||(()=>{}),ee=0;function te(e){const[t,s]=r.useState(Z());return V(()=>{e||s(o=>o??String(ee++))},[e]),e||(t?`radix-${t}`:"")}var _="rovingFocusGroup.onEntryFocus",oe={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[h,G,re]=z(g),[ne,Ie]=$(g,[re]),[se,ce]=ne(g),N=r.forwardRef((e,t)=>d.jsx(h.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(h.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(ae,{...e,ref:t})})}));N.displayName=g;var ae=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:b=!1,dir:F,currentTabStopId:R,defaultCurrentTabStopId:E,onCurrentTabStopIdChange:v,onEntryFocus:a,preventScrollOnEntryFocus:C=!1,...S}=e,p=r.useRef(null),I=Q(t,p),n=X(F),[l=null,w]=q({prop:R,defaultProp:E,onChange:v}),[u,i]=r.useState(!1),x=J(a),L=G(s),T=r.useRef(!1),[M,y]=r.useState(0);return r.useEffect(()=>{const c=p.current;if(c)return c.addEventListener(_,x),()=>c.removeEventListener(_,x)},[x]),d.jsx(se,{scope:s,orientation:o,dir:n,loop:b,currentTabStopId:l,onItemFocus:r.useCallback(c=>w(c),[w]),onItemShiftTab:r.useCallback(()=>i(!0),[]),onFocusableItemAdd:r.useCallback(()=>y(c=>c+1),[]),onFocusableItemRemove:r.useCallback(()=>y(c=>c-1),[]),children:d.jsx(P.div,{tabIndex:u||M===0?-1:0,"data-orientation":o,...S,ref:I,style:{outline:"none",...e.style},onMouseDown:m(e.onMouseDown,()=>{T.current=!0}),onFocus:m(e.onFocus,c=>{const k=!T.current;if(c.target===c.currentTarget&&k&&!u){const D=new CustomEvent(_,oe);if(c.currentTarget.dispatchEvent(D),!D.defaultPrevented){const A=L().filter(f=>f.focusable),U=A.find(f=>f.active),B=A.find(f=>f.id===l),Y=[U,B,...A].filter(Boolean).map(f=>f.ref.current);j(Y,C)}}T.current=!1}),onBlur:m(e.onBlur,()=>i(!1))})})}),O="RovingFocusGroupItem",K=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:b=!1,tabStopId:F,...R}=e,E=te(),v=F||E,a=ce(O,s),C=a.currentTabStopId===v,S=G(s),{onFocusableItemAdd:p,onFocusableItemRemove:I}=a;return r.useEffect(()=>{if(o)return p(),()=>I()},[o,p,I]),d.jsx(h.ItemSlot,{scope:s,id:v,focusable:o,active:b,children:d.jsx(P.span,{tabIndex:C?0:-1,"data-orientation":a.orientation,...R,ref:t,onMouseDown:m(e.onMouseDown,n=>{o?a.onItemFocus(v):n.preventDefault()}),onFocus:m(e.onFocus,()=>a.onItemFocus(v)),onKeyDown:m(e.onKeyDown,n=>{if(n.key==="Tab"&&n.shiftKey){a.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const l=le(n,a.orientation,a.dir);if(l!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)return;n.preventDefault();let u=S().filter(i=>i.focusable).map(i=>i.ref.current);if(l==="last")u.reverse();else if(l==="prev"||l==="next"){l==="prev"&&u.reverse();const i=u.indexOf(n.currentTarget);u=a.loop?fe(u,i+1):u.slice(i+1)}setTimeout(()=>j(u))}})})})});K.displayName=O;var ue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function le(e,t,s){const o=ie(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ue[o]}function j(e,t=!1){const s=document.activeElement;for(const o of e)if(o===s||(o.focus({preventScroll:t}),document.activeElement!==s))return}function fe(e,t){return e.map((s,o)=>e[(t+o)%e.length])}var ge=N,be=K;export{be as I,ge as R,te as a,Ie as c,X as u};
